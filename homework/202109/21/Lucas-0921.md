## 仲裁一致性的局限性，P182 - P186, 0921
- 法定人数可以小于半数，只要读写节点有交集
- 较小的 w 和 r 可能会获取到过时数据
- 宽松的法定人数，读写节点可能没有交集
- 用合并并发写入解决，但是由于时钟偏差，最新的写入可能会丢失
- 读写同时发生，不确定读取可能返回过期值
- 写操作小于w个节点，无法回滚，客户端会读错误写入的值
- 新值节点宕机，其他新值节点数量小于w，打破法定人数限制
- 334页的线性化和法定人数，来解决时序边缘的问题
- 无法完全使用法定人数保证读写最新值，通过调整w和r来控制过期值出现的概率
- TODO：单调读和一致性前缀读取
- 第七章事务，第九章共识算法

## 监控过期度
- 每个节点在复制日志中加上位置标签？
- 主节点和从节点的位置差，来确定滞后的程度
- 无主复制，写入顺序不固定
- 没有反熵的时候，只能读取的时候修复
- 如果一个数据很少被读，返回的值就会很旧
- 最终一致性是故意模糊的保证？

## 宽松的法定人数和带提示的接力
- 法定人数机制可以实现自动故障切换
- 用偶尔的过期值，来达到高可用，低延迟
- 节点数远大于副本数，使用宽松的法定人数
- 带提示的接力，提示写入节点，故障节点恢复后再写入
- Riak 默认弃用，Cassandra、Voldemort 默认禁止
- 指定数据中心内的副本数，跨数据中心异步复制
