## 检测并发写入，P184 - P198, 0922
- Dynamo运行多客户端同时写入相同的键
- 读修复，带提示的接力，Dynamo 没有明确定义的顺序
- 简单覆盖，可能导致永久的不一致
- 为达最终一致性，需要收敛到相同值
- Cassandra 只支持最后写入胜，牺牲了持久性，Riak 可选
- 和LWW一起使用的唯一安全的是确保一个键只能写入一次
- 检测此前发生关系，将值和版本号一起返回客户端
- Riak 并发值兄弟，合并同时写入的值，集合求并
- 如果删除，需要用墓碑指示合并兄弟已经被删除

## 版本向量
- 多个副本使用分散版本矢量，dotted version vector
- Riak将版本向量编码成字符串，称为因果上下文

## 第五章总结
- 写后读，能读到自己写入的数据
- 单调读，看到某个时间点的数据，不应该看到该时间点之前的数据，解决办法？同一个副本？
- 一致前缀读，有因果关系？
