## 请求路由，P215-219，0926
- 客户端连接哪个节点，服务发现
- 循环策略，RoundRobin
- 路由层
- 客户端记忆
- 独立的协调服务，ZooKeeper，通知路由层保持最新的状态
- Cassandra，Riak采用流言协议，Goosip
- Couchbase 不会自动重新平衡，使用 moxi 路由层，可能用到NDS映射

## 并行查询
- 之前只读写单个键值
- 基于文档的二级索引，需要分发和聚合
- 数据仓库的查询包括多个连接，过滤，分发和聚合

## 总结
- 键范围分区
- 散列分区
- 本地索引，按文档分区的二级索引
- 全局索引，按关键词分区的二级索引


## 事务，P220-224，0927
